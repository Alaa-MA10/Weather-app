<div class="container">
  <!-- *ngIf ensures that the card won’t be shown if there is no data -->
  <!-- *ngIf="weatherData$ | async as weatherData" -->
  <div fxLayout="row wrap" fxLayoutGap="16px">
    <!-- Weather Card -->
    <mat-card class="mat-elevation-z5 weather-card" *ngIf="weatherData">
      <!-- progress-bar
      <mat-progress-bar *ngIf="loading" mode="indeterminate" class="top-bar">
      </mat-progress-bar> -->
      <mat-card-content>
        <mat-card-header class="weather-card-header">
          <mat-card-title>{{ weatherData.name }}'s weather</mat-card-title>
          <mat-card-subtitle>{{ countryName }}</mat-card-subtitle>
          <mat-card-subtitle>Today: {{ today | date }}</mat-card-subtitle>
        </mat-card-header>
        <div class="temp">
          <img mat-card-lg-image src="{{ weatherData.image }}" /><br />
          <p class="big-text">
            <mat-icon>thermostat</mat-icon>
            {{ weatherData.main.temp | number: "0.0-0" }}°
          </p>
          <span>{{ weatherData.weather[0].description | titlecase }}</span>
        </div>
      </mat-card-content>
      <mat-card-content>
        <div class="temp">
          <p class="big-text">
            <mat-icon>thermostat</mat-icon>
            {{ weatherData.main.feels_like | number: "0.0-0" }}°
          </p>
          <p> Feels like</p>
        </div>
        <br />
        <div class="outlook">
          <p>
            <mat-icon>expand_more</mat-icon> Min: <span>
            {{ weatherData.main.temp_min | number: "0.0-0" }}°</span>
          </p>

          <p>
            <mat-icon>expand_less</mat-icon> Max: <span>
            {{ weatherData.main.temp_max | number: "0.0-0" }}°</span>
          </p>

          <p>
            <mat-icon>opacity</mat-icon>Humidity: <span>
            {{ weatherData.main.humidity | number: "0.0-0" }}%</span>
          </p>

          <p>
            <mat-icon>unfold_less</mat-icon> pressure:<span>
            {{ weatherData.main.pressure | number: "0.0-0" }} mb</span>
          </p>

          <p>
            <mat-icon>air</mat-icon> Wind:<span>
            {{ weatherData.wind.speed | number: "0.0-0" }} km/h</span>
          </p>
          <p>
            <mat-icon>brightness_7</mat-icon> Sunrise:<span>
            {{ getDate(weatherData.sys.sunrise) | date: "hh:mm a" }}</span>
          </p>
          <p>
            <mat-icon>brightness_4</mat-icon>
            Sunset:<span>
            {{ getDate(weatherData.sys.sunset) | date: "hh:mm a" }}</span>
          </p>
        </div>
      </mat-card-content>
    </mat-card>
    <!-- End Card -->
  </div>

  <app-forecast-report [forecastData]=forecastData></app-forecast-report>
</div>
